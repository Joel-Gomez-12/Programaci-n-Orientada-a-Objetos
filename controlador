const url = '../../Glovo/Backend/api/registros.php';

function obtenerRegistros(){
    axios({
        method: 'GET',
        url:url,
        responseType:'json'
    }).then(res=>{
        console.log(res);
    }).catch(error=>{
        console.error(error);
    });
}
obtenerRegistros();



function guardarRegistro(){
    $('#registrar').modal('show');
    document.getElementById('registrarLabel').style.display='none';
    document.getElementById('nueva-modal').style.display='none';
    document.getElementById('div-nombre').style.display='none';
    document.getElementById('olvidar').style.display='none';
    document.getElementById('cuenta').style.display='none';
    document.getElementById('terminos').style.display='none';
    document.getElementById('nuevo').style.display='none';
    document.getElementById('boton-3').style.display='none';
    document.getElementById('Iniciar-email').style.display='none';
    document.getElementById('face-boton').style.display='none';
    document.getElementById('correo').style.display='none';
    document.getElementById('contrasena').style.display='none';
    document.getElementById('o').style.display='none';
    document.getElementById('img-correo').style.display='none';
    document.getElementById('img-mostrar').style.display='none';
    document.getElementById('img-candado').style.display='none';
    document.getElementById('terminos-mod').style.display = 'block';
    let registro ={
        nombre: document.getElementById('nombre').value,
        correo: document.getElementById('correo').value,
        contrasena: document.getElementById('contrasena').value
    };
    console.log('Registro a guardar', registro);
    axios({
        method: 'POST',
        url: url,
        responseType:'json',
        data:registro

    }).then(res=>{
        console.log(res);
        obtenerRegistros();

    }).catch(error=>{
        console.error(error);
    });

    
    
}



var categorias = [
    {
        imagen: 'img/farmacia.webp',
        negocio: 'Farmacia',
        enlace: 'Pagina_farmacia/farmacia.html'
        
    },
    {
        imagen: 'img/tiendas.webp',
        negocio: 'Regalos y más',
        enlace: 'Pagina_regalos/regalos.html'
    },
    {
        imagen: 'img/carrito.webp',
        negocio: 'Super & Licores',
        enlace: 'Pagina_licores/licores.html'
    },
    {
        imagen: 'img/moto.webp',
        negocio: 'Envíos Express',
        enlace: ''
    },
    {
        imagen: 'img/comida.webp',
        negocio: 'Comida'
    }
    
];   
var tiendas = [
    {
        imagen: 'img/Pizza-card.webp',
        nombre: 'Pizza Hut'
    },
    {
        imagen: 'img/Pupusa-card.jpg',
        nombre: 'Pupuseria Camino del Valle'
    },
    {
        imagen: 'img/walmart-card.webp',
        nombre: 'Walmart'
    },
    {
        imagen: 'img/Dennys-card.webp',
        nombre: 'Denny´ s'
    },
    {
        imagen: 'img/Expresso-card.webp',
        nombre: 'Espresso Americano'
    },
    {
        imagen: 'img/Churcher-chiken.jpg',
        nombre: 'Church´s Chicken'
    },
    {
        imagen: 'img/camperp-card.webp',
        nombre: 'Pollo Campero'
    },
    {
        imagen: 'img/campesino-card.webp',
        nombre: 'Pollo Campesino'
    },
    {
        imagen: 'img/popeyes-card.webp',
        nombre: 'Popeyes'
    },
    {
        imagen: 'img/wndys-card.webp',
        nombre: 'Wendy´ s'
    },
    {
        imagen: 'img/macdonals-card.webp',
        nombre: 'McDonald´ s'
    },
    {
        imagen: 'img/kfc.webp',
        nombre: 'KFC'
    }
];
var repartidores = [
    {
        imagen: 'img/repartidor.webp',
        titulo: 'Repartidores',
        texto: 'Solo las horas que quieras',
        parrafo: 'Sé tu propio jefe. Flexibilidad de horarios, ingresos competitivos y la oportunidad de conocer tu ciudad repartiendo al aire libre. Regístrate y en menos de 24 h colabora con nosotros.',
        boton: 'Reparte con nosotros',
        enlace: 'Pagina_repartidores/repartir.html'
    },
    {
        imagen: 'img/socio.webp',
        titulo: 'Establecimientos asociados',
        texto: 'Conoce a tus nuevos clientes',
        parrafo: 'Potencia tu negocio al convertirte en un socio y aprovechar las herramientas, la tecnología y la base de clientes que llevan toda una ciudad a tu puerta.',
        boton: 'Colabora con nosotros',
        enlace: ''
    },
    {
        imagen: 'img/carreras.webp',
        titulo: 'Carreras',
        texto: 'Un reto a la altura de tu talento',
        parrafo: 'Estamos haciendo olas en un espacio competitivo. Eso requiere empuje, corazón y mucho trabajo en equipo. ¿Listo para saltar?',
        boton: 'Únete al equipo',
        enlace: ''
    }
];



function generarCategorias() {
    categorias.forEach(function (cat) {
        document.getElementById('local').innerHTML +=
            `<div align="center" style="background-color: white; border-radius: 100%; margin: 12.5px; height: 114.2px; width: 114.2px; col-md-3 col-lg-4">
        <a style="text-align: center; text-decoration: none; color: black;" href="${cat.enlace}">
          <img style="height: 60px; margin-top: 5px; " src="${cat.imagen}" alt="">
          <h2 style="margin-top: 9px; margin-right: auto; font-size: 14px;">${cat.negocio}</h2>
        </a>
        
      </div>`;
      

    });
}
generarCategorias();


function generarTiendas() {
    tiendas.forEach(function (tien) {
        document.getElementById('tienda').innerHTML +=
            `<div id="negocios" class="col-12 col-sm-6 col-lg-4">
        <a style="text-decoration: none; color: black;" href="">
        <div class="card">
          <img src="${tien.imagen}" class="card-img-top" alt="...">
          <div class="card-body">
            <p class="card-text">${tien.nombre}</p>
          </div>
        </div>
        </a>
      </div>`;
    });
}
generarTiendas();

function generarRepartidores() {
    repartidores.forEach(function (repar) {
        document.getElementById('repartir').innerHTML +=
            `<div class="col-12 col-md-6 col-lg-4">
        <div style="margin-top: 30px;" class="card" style="width: 18rem;">
          <img src="${repar.imagen}" class="card-img-top" alt="...">
          <div class="card-body">
            <h5 class="card-title">${repar.titulo}</h5>
            <p id="repar-text" >${repar.texto}</p>
            <p class="card-text">${repar.parrafo}</p>
            <a href="${repar.enlace}" class="btn btn-primary">${repar.boton}</a>
          </div>
        </div>

      </div>`;
    });
}
generarRepartidores();

function buscar() {
    document.getElementById('parrafo').innerHTML =
    `<div id="cerrrar" class="input-buscar">
        <form class="container">
            <span id="lupa-input">
                <img style="margin-top: 25px; background-color: red;" src="img/search.svg" alt="">
            </span>
            
            <input class="input-busqueda" type="text" placeholder="Búsqueda">
            
            <img style="position: absolute; margin-left: 870px; width: 38px;" onclick="cerrar()" src="img/cerrar.svg" alt="">
        </form>
  </div>`;
   
    
    console.log('usted busca');
    document.getElementById('porfa').style.marginLeft = '-250px';
    document.getElementById('porfa').style.marginTop = '190px';
    
    
}
function cerrar(){
    
    document.getElementById('cerrrar').style.display = 'none';
    document.getElementById('porfa').style.marginLeft = '750px';
    document.getElementById('porfa').style.marginTop = '25px';
    
    console.log('usted cerro')
}

function iniciarSesion(){
    $('#registrar').modal('show');
    document.getElementById('nombre').value = null;
    document.getElementById('correo').value = null;
    document.getElementById('contrasena').value = null;
    document.getElementById('boton-3').style.display='';
    document.getElementById('Iniciar-email').style.display='';
    document.getElementById('face-boton').style.display='';
    document.getElementById('correo').style.display='';
    document.getElementById('contrasena').style.display='';
    document.getElementById('o').style.display='';
    document.getElementById('img-correo').style.display='';
    document.getElementById('img-mostrar').style.display='';
    document.getElementById('img-candado').style.display='';

    

    document.getElementById('registrarLabel').style.display='none';
    document.getElementById('nueva-modal').style.display='block';
    document.getElementById('div-nombre').style.display='none';
    document.getElementById('olvidar').style.display='block';
    document.getElementById('cuenta').style.display='none';
    document.getElementById('terminos').style.display='none';
    document.getElementById('nuevo').style.display='block';
    document.getElementById('boton-3').style.display='none';
    document.getElementById('Iniciar-email').style.display='block';
    document.getElementById('terminos-mod').style.display = 'none';
}
function registrarMod(){
    $('#registrar').modal('show');
    document.getElementById('nombre').value = null;
    document.getElementById('correo').value = null; 
    document.getElementById('contrasena').value = null;
    document.getElementById('registrarLabel').style.display='';
    document.getElementById('nueva-modal').style.display='';
    document.getElementById('div-nombre').style.display='';
    document.getElementById('olvidar').style.display='';
    document.getElementById('cuenta').style.display='';
    document.getElementById('terminos').style.display='';
    document.getElementById('nuevo').style.display='';
    document.getElementById('nuevo').style.display='';
    document.getElementById('boton-3').style.display='';
    document.getElementById('Iniciar-email').style.display='';
    document.getElementById('face-boton').style.display='';
    document.getElementById('correo').style.display='';
    document.getElementById('contrasena').style.display='';
    document.getElementById('o').style.display='';
    document.getElementById('img-correo').style.display='';
    document.getElementById('img-mostrar').style.display='';
    document.getElementById('img-candado').style.display='';
    document.getElementById('terminos-mod').style.display = '';


    document.getElementById('registrarLabel').style.display='block';
    document.getElementById('nueva-modal').style.display='none';
    document.getElementById('olvidar').style.display='none';
    document.getElementById('nuevo').style.display='none';
    document.getElementById('boton-3').style.display='block';
    document.getElementById('Iniciar-email').style.display='none';
    document.getElementById('terminos-mod').style.display = 'none';
}

function modalContraseña(){
    $('#registrar').modal('show');
}

